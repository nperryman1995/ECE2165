/*
 * ubc.h
 * unified block controller
 *  Created on: Nov 26, 2018
 *      Author: Mitch
 */

#ifndef SRC_UBC_H_
#define SRC_UBC_H_

#include "xparameters.h"
#include "zscore_driver.h"
#include "cusum_driver.h"
#include "derivative_driver.h"




#define NUM_ZSCORE 0
#define NUM_CUSUM 0
#define NUM_DERIV 0

#ifndef XPAR_AXI_ZSCORE_0_BASEADDR
#define XPAR_AXI_ZSCORE_0_BASEADDR 0
#define XPAR_AXI_ZSCORE_1_BASEADDR 0
#define XPAR_AXI_ZSCORE_2_BASEADDR 0
#define NUM_ZSCORE 0
#endif
#ifndef XPAR_AXI_ZSCORE_1_BASEADDR
#define XPAR_AXI_ZSCORE_1_BASEADDR 0
#define XPAR_AXI_ZSCORE_2_BASEADDR 0
#define NUM_ZSCORE 1
#endif
#ifndef XPAR_AXI_ZSCORE_2_BASEADDR
#define XPAR_AXI_ZSCORE_2_BASEADDR 0
#define NUM_ZSCORE 2
#endif

#ifndef XPAR_AXI_CUSUM_0_BASEADDR
#define XPAR_AXI_CUSUM_0_BASEADDR 0
#define XPAR_AXI_CUSUM_1_BASEADDR 0
#define XPAR_AXI_CUSUM_2_BASEADDR 0
#define NUM_CUSUM 0
#endif
#ifndef XPAR_AXI_CUSUM_1_BASEADDR
#define XPAR_AXI_CUSUM_1_BASEADDR 0
#define XPAR_AXI_CUSUM_2_BASEADDR 0
#define NUM_CUSUM 1
#endif
#ifndef XPAR_AXI_CUSUM_2_BASEADDR
#define XPAR_AXI_CUSUM_2_BASEADDR 0
#define NUM_CUSUM 2
#endif

#ifndef XPAR_AXI_DERIV_0_BASEADDR
#define XPAR_AXI_DERIV_0_BASEADDR 0
#define XPAR_AXI_DERIV_1_BASEADDR 0
#define XPAR_AXI_DERIV_2_BASEADDR 0
#define NUM_DERIV 0
#endif
#ifndef XPAR_AXI_DERIV_1_BASEADDR
#define XPAR_AXI_DERIV_1_BASEADDR 0
#define XPAR_AXI_DERIV_2_BASEADDR 0
#define NUM_DERIV 1
#endif
#ifndef XPAR_AXI_DERIV_2_BASEADDR
#define XPAR_AXI_DERIV_2_BASEADDR 0
#define NUM_DERIV 2
#endif

void setup(void);
void addData(u32 data);
u32 detectAnomaly(u32 zscore_threshold, u32 cusum_threshold, u32 deriv_threshold);

#endif /* SRC_UBC_H_ */
